<?xml version="1.0" encoding="UTF-8"?>
<node xmlns:tp="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0" name="/node">
<interface name="org.freedesktop.atspi.ContentStream">
  <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
    <p>An interface by which the requested data from a StreamableContent object
	    may be read by the client.</p>
  </tp:docstring>
</interface>
<tp:enum name="SeekType" type="u">
  <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
    <p>Specifies the meaning of a seek 'offset'.  Not all SeekTypes are 
      supported by all StreamableContent data sources, for instance 
      some streams may not support seeking from the beginning or other
      types of 'backwards' seeks.</p>
  </tp:docstring>
  <tp:enumvalue suffix="SEEK_SET">
  <tp:docstring>
    Seek from the start of the stream or data source.
  </tp:docstring>
  </tp:enumvalue>
  <tp:enumvalue suffix="SEEK_CURRENT" value="1">
  <tp:docstring>
    Seek relative to the current position. 
  </tp:docstring>
  </tp:enumvalue>
  <tp:enumvalue suffix="SEEK_END" value="2">
  <tp:docstring>
    Seek from the end of the file, stream, or data source. 
  </tp:docstring>
  </tp:enumvalue>
</tp:enum>
<tp:errors xmlns="http://telepathy.freedesktop.org/wiki/DbusSpec#extensions-v0" namespace="org.freedesktop.atspi.error">
  <tp:error name="IOError">
  <tp:docstring>
    Indicates that a transmission error has occurred while reading or seeking the stream or data source. 
  </tp:docstring>
  </tp:error>
  <tp:error name="NotSupported">
  <tp:docstring>
    Indicates that the requested operation is not supported by the stream instance.
  </tp:docstring>
  </tp:error>
  <tp:error name="NoPermission">
  <tp:docstring>
    The operation is supported, but the current requestor does not havepermission to t the request, for instance does not have permission to read the stream.
  </tp:docstring>
  </tp:error>
</tp:errors>
<method name="seek">
  <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
	  <p>Seek to a specified position in the Stream.</p>
  </tp:docstring>
  <arg direction="in" name="offset" type="i">
	  <tp:docstring>
      An offset specifying the requested position in the stream,
      relative to the SeekType specified in <code>whence.</code>
	  </tp:docstring>
  </arg>
  <arg direction="in" name="whence" type="u" tp:type="SeekType">
	  <tp:docstring>
      A SeekType specifying the reference point from which the 
      seek offset is calculated.  Some forms of seek are not supported by certain
      implementations of Stream, in which case a NotSupported exception will be raised.
	  </tp:docstring>
  </arg>
  <arg direction="out" type="i">
  <tp:docstring>
    The actual resulting offset, if no exception was raised.
  </tp:docstring>
  </arg>
  <tp:possible-errors>
    <tp:error name="org.freedesktop.atspi.error.(NoPermission"/>
    <tp:error name="org.freedesktop.atspi.error.IOError"/>
    <tp:error name="org.freedesktop.atspi.error.NotSupported"/>
  </tp:possible-errors>
</method>
<method name="read">
  <tp:docstring>
    Request/read a specified amount of data from a Stream.
  </tp:docstring>
  <arg direction="in" name="count" type="i"/>
  <arg direction="out" name="buffer" type="ay" tp:type="iobuf"/>
  <arg direction="out" type="i">
  <tp:docstring>
    The number of bytes actually read into the client buffer.
  </tp:docstring>
  </arg>
  <tp:possible-errors>
    <tp:error name="org.freedesktop.atspi.error.(NoPermission"/>
    <tp:error name="org.freedesktop.atspi.error.IOError"/>
  </tp:possible-errors>
</method>
<method name="close">
  <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
    <p>close the stream and release associated resources.  
      A client should not perform further operations on a 
      StreamableContent.Stream object after closing it.</p>
  </tp:docstring>
</method>
<interface name="org.freedesktop.atspi.StreamableContent">
  <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
    <p>An interface whereby an object allows its backing content
      to be streamed to clients.  Negotiation of content type
      is allowed.  Clients may examine the backing data and
      transform, convert, or parse the content in order to
      present it in an alternate form to end-users.  </p>

    <p>The StreamableContent interface is particularly useful for saving, 
      printing, or post-processing entire documents, or for persisting 
      alternate views of a document.
      If document content itself is being serialized, stored, or converted,
      then use of the StreamableContent interface can help address performance
      issues. Unlike most AT-SPI/Accessibility interfaces, this interface
      is not strongly tied to the current user-agent view of the
      a particular document, but may in some cases give access to the 
      underlying model data.</p>
  </tp:docstring>
  <method name="getContentTypes">
    <arg direction="out" type="as" tp:type="StringSeq">
    <tp:docstring>
      The list of available mimetypes for this object's content.
    </tp:docstring>
    </arg>
  </method>
  <method name="getContent">
    <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
      <p>DEPRECATED, use getStream instead.
        getContent:
        Retrieve this object's content, in a format appropriate to a
        requested mimetype.    </p>
    </tp:docstring>
    <arg direction="in" name="contentType" type="s">
    </arg>
  </method>
  <method name="getStream">
    <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
      <p>Retrieve this object's content, in a format appropriate to a
        requested mimetype, as a ::ContentStream instance.    </p>

    </tp:docstring>
    <arg direction="in" name="contentType" type="s">
	    <tp:docstring>
      <p>A string specifying the desired mimetype for the content stream.</p>
	    </tp:docstring>
    </arg>
    <arg direction="out" type="FIXME" tp:type="ContentStream">
    <tp:docstring>
      A Stream whose mimetype matches contentType,if available, or NIL.
    </tp:docstring>
    </arg>
  </method>
  <method name="getURI">
    <tp:docstring xmlns="http://www.w3.org/1999/xhtml">
      <p>Get a URI pointing to the content of the specified type, if such a URI
        can be obtained.  Not all streamable content providers have URI representations.    </p>
    </tp:docstring>
    <arg direction="in" name="contentType" type="s">
	    <tp:docstring>
      <p>A string specifying the desired mimetype for the content stream.
        If NULL, then a URI for the default content type will be returned, if available.    </p>
	    </tp:docstring>
    </arg>
    <arg direction="out" type="s">
    <tp:docstring>
      A string which constitutes a URI for a stream of the specifiedcontent type, or NULL if no such URI can be obtained.
    </tp:docstring>
    </arg>
  </method>
</interface>
</node>
